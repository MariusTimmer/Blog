<!DOCTYPE html>
<html class="no-js" lang="{{ .Site.Language.Lang | default "en-us" }}">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="theme-color" content="{{ .Site.Params.Manifest.themeColor | default "#1b1b1b" }}">
	<title>{{ block "title" . }}{{ if not .IsHome }}{{ .Title }} | {{ end }}{{ .Site.Title }}{{ end }}</title>
    <script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>{{ if eq .Kind "page" }}
    {{ end }}
    <meta name="robots" content="index" />
    <meta name="description" content="{{ if .IsHome }}{{ .Site.Params.description }}{{ else }}{{ .Description }}{{ end }}">{{ if .IsHome }}
    <meta name="keywords" content="{{ range first 25 $.Site.Taxonomies.tags.ByCount }}{{.Name}},{{end}}" />
{{ else }}
    <meta name="keywords" content="{{ delimit .Keywords ", " }}" />
    {{ end }}{{- if .Site.Params.opengraph }}
		{{ template "_internal/opengraph.html" . }}
	{{- end }}
	{{- if .Site.Params.twitter_cards }}
		{{ template "_internal/twitter_cards.html" . }}
	{{- end }}{{ if .Title }}
 	<meta name="og:title" content="{{ .Title }}" />{{ if .Description }}
 	{{ end }}<meta name="og:description" content="{{ .Description }}" />
 	{{ end }}<meta name="og:url" content="{{ .Permalink }}" />
	<meta name="og:type" content="article" />
	<meta name="og:site_name" content="{{ .Site.Title }}" />{{ if .Params.Images }}{{ range .Params.Images }}
	<meta name="og:image" content="{{ . }}" />
	<meta name="twitter:image" content="{{ . }}" />
	{{ end }}{{ end }}{{ if .Author }}
	<meta name="author" content="{{ if $.Param "author.display_name" }}{{ $.Param "author.display_name" }}{{ else }}{{ .Param "author" }}{{ end }}" />
	<meta name="article:author" content="{{ if $.Param "author.display_name" }}{{ $.Param "author.display_name" }}{{ else }}{{ .Param "author" }}{{ end }}" />
	{{ end }}{{ if .Params.video }}
	<meta name="og:video" content="https://www.youtube.com/watch?v={{ .Params.video }}" />
	{{ end }}
	<meta name="twitter:card" content="website" />
	<meta name="twitter:site" content="{{ .Site.Params.twitter_username }}" />
	<meta name="twitter:title" content="{{ .Title }}" />
	<meta name="twitter:description" content="{{ .Description }}" />
	<meta name="article:published_time" content="{{ .Date.Format "2006-01-02" }}" />
	<link rel="stylesheet" href="{{ "css/extra.css" | relURL }}" />
	<link rel="stylesheet" href="{{ "css/main.css" | relURL }}">
	{{- range .Site.Params.customCSS }}
	<link rel="stylesheet" href="{{ . | relURL }}">
	{{- end }}
	{{- with .Site.Params.colorTheme }}
	<link rel="stylesheet" href="{{ (printf "css/themes/%s.css" .) | relURL }}">
	{{- end }}
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="icon" href="/favicon.png" sizes="96x96" type="image/png" />
    <link rel="icon" href="/favicon.ico" sizes="48x48" type="image/x-icon" />
    <link rel="apple-touch-icon" sizes="96x96" href="/apple-touch-icon.png" />
	{{- with .OutputFormats.Get "rss" }}
	{{ printf `<link rel="%s" type="%s" href="%s" title="%s">` .Rel .MediaType.Type .RelPermalink $.Site.Title | safeHTML }}
	{{- end }}
	{{- with ((.Site.GetPage "home").OutputFormats.Get "manifest") }}
	<link rel="manifest" href="{{ "manifest.json" | relURL }}">
	{{- end }}
	{{ partial "analytics.html" . }}
	{{- if not .Site.IsServer }}
		{{ template "_internal/google_analytics_async.html" . }}
	{{- end }}
</head>
<body>
	{{ partial "header" . }}
	<div class="primary">
	{{ block "main" . }}
		{{- if or .Title .Content }}
		<div class="page block">
			{{ with .Title }}<h1 class="page__title">{{ . }}</h1>{{ end }}
			{{ with .Content }}<div class="page__content{{ if not $.Title }} page__content--notitle{{ end }}">{{ . }}</div>{{ end }}
		</div>
		{{ end }}
	{{ end }}
	</div>
	{{ partial "footer" . }}
{{- with .Site.Menus.main }}
<script src="{{ "js/menu.js" | relURL }}"></script>
{{- end }}
{{- partial "mathjax.html" . -}}
{{- range .Site.Params.customJS }}
<script src="{{ . | relURL }}"></script>
{{- end }}
</body>
</html>
